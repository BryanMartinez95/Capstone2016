<div ng-controller="SampleEditController">
	<div layout>
		<md-content flex>
			<h2>Sample - <small>{{sample.id}}</small></h2>
			<md-card flex="100">
				<md-tabs md-dynamic-height md-selected="tabs.selected" md-align-tabs="top">
					<md-tab id="tab1">
						<md-tab-label>General</md-tab-label>
						<md-tab-body>
							<div layout class="md-padding">
								<md-input-container flex="33">
									<label for="lab-id">Lab ID</label>
									<input id="lab-id" type="text" ng-model="sample.labId" flex="80">
								</md-input-container>
								<md-input-container flex="33">
									<label for="reporting-id">Reporting ID</label>
									<input id="reporting-id" type="text" ng-model="sample.reportingId" flex="80">
								</md-input-container>
	                            <span flex="33">
	                                <md-datepicker id="date" ng-model="sample.date" flex="100"></md-datepicker>
	                            </span>
							</div>
							<div layout class="md-padding">
								<md-input-container flex="33">
									<sait-single-select title="Device" name="device" value="selectedDevice" islocal="false" params="{{deviceOptions}}" required></sait-single-select>
								</md-input-container>
								<md-input-container flex="33">
									<sait-single-select title="Project" name="project" value="selectedProject" islocal="false" params="{{projectOptions}}" required></sait-single-select>
								</md-input-container>
								<md-input-container>
									<md-switch class="md-hue-1 md-no-ink" title="Status" name="status" ng-model="isActive" aria-label="Status" ng-change="onSwitchChange()">
										{{statusMessage}}
									</md-switch>
								</md-input-container>
							</div>
							<div layout class="md-padding">
								<md-input-container>
									<label for="comment">Comment</label>
									<textarea id="comment" flex="100" ng-model="sample.comment" rows="5" md-select-on-focus></textarea>
								</md-input-container>
							</div>
						</md-tab-body>
					</md-tab>
					<md-tab id="tab2">
						<md-tab-label>Measurements</md-tab-label>
						<md-tab-body>
							<md-card flex="100">
								<!--<md-content ng-show="sample.measurements.length === 0" class="no-content">-->
									<!--No Measurements-->
								<!--</md-content>-->
								<md-content>
								<!--<md-content ng-show="sample.measurements.length > 0">-->
									<md-table-container>
										<table md-table>
											<thead md-head>
											<tr md-row>
												<th md-column flex="20">Temperature</th>
												<th md-column flex="10">Test Method</th>
												<th md-column flex="20">Value</th>
												<th md-column flex="20">Unit</th>
												<th md-column flex>Edit</th>
											</tr>
											</thead>
											<tbody>
											<tr ng-repeat="measurement in measurements" md-row>
												<td md-cell>
													<md-input-container class="list-collection">
														<input ng-model="measurement.temperature" type="text" aria-label="Temperature" ng-disabled="!measurement.edit">
													</md-input-container>
												</td>
												<td md-cell>
													<md-input-container class="list-collection">
														<sait-single-select title="Test Method" name="testMethod" value="selectedTestMethod" islocal="false" params="{{testMethodOptions}}" required></sait-single-select>
													</md-input-container>
												</td>
												<td md-cell>
													<md-input-container class="list-collection">
														<input ng-model="measurement.value" type="text" aria-label="Value" ng-disabled="!measurement.edit">
													</md-input-container>
												</td>
												<td md-cell>
													<md-input-container class="list-collection">
														<sait-single-select title="Unit" name="unit" value="selectedUnit" islocal="false" params="{{unitOptions}}" required></sait-single-select>
													</md-input-container>
												</td>
												<td md-cell>
													<div ng-if="measurement.edit">
														<span ng-click="measurement.edit = false">
		                                                    <i class="fa fa-check"></i>
	                                                    </span>
	                                                    <span ng-click="measurement.edit = false">
		                                                    <i class="fa fa-times"></i>
	                                                    </span>
													</div>
													<div ng-if="!measurement.edit">
														<span ng-click="measurement.edit = true">
		                                                    <i class="fa fa-pencil-square-o"></i>
	                                                    </span>
	                                                    <span ng-click="removeMeasurement($index)">
		                                                    <i class="fa fa-trash"></i>
	                                                    </span>
													</div>
												</td>
											</tr>
											</tbody>
										</table>
									</md-table-container>
									<md-button class="md-accent md-hue-3 md-raised" ng-click="addMeasurement()">Add Measurement</md-button>
								</md-content>
							</md-card>
						</md-tab-body>
					</md-tab>
				</md-tabs>
			</md-card>
		</md-content>
		<md-sidenav flex="20" flex-gt-md="10" layout="column" md-is-locked-open="true">
			<section layout="column">
				<md-button class="md-primary md-raised" ng-click="saveSample()">
					<span flex>Save</span>
				</md-button>
				<md-button class="md-raised" ng-click="cancel()">
					<span flex>Cancel</span>
				</md-button>
			</section>
		</md-sidenav>

		<!--<div ng-show="sample.measurements.length === 0">-->
		<!--<div class="no-content">No Measurements to show</div>-->
		<!--</div>-->
		<!--<div ng-show="sample.measurements.length > 0">-->
		<!--<div class="lc-header">-->
		<!--<div class="row">-->
		<!--<div class="col-sm-6">-->
		<!--<div class="row">-->
		<!--<div class="col-sm-offset-1 col-sm-4">-->
		<!--Value-->
		<!--</div>-->
		<!--<div class="col-sm-3">-->
		<!--Unit-->
		<!--</div>-->
		<!--<div class="col-sm-4">-->
		<!--Temperature-->
		<!--</div>-->
		<!--</div>-->
		<!--</div>-->
		<!--<div class="col-sm-6">-->
		<!--<div class="row">-->
		<!--<div class="col-sm-6">-->
		<!--Test Method-->
		<!--</div>-->
		<!--<div class="col-sm-4">-->
		<!--Status-->
		<!--</div>-->
		<!--<div class="col-sm-2">-->
		<!--Delete-->
		<!--</div>-->
		<!--</div>-->
		<!--</div>-->
		<!--</div>-->
		<!--</div>-->
		<!--<div class="row lc-body">-->
		<!--<div class="well-lg" ng-repeat="measure in sample.measurements track by $index">-->
		<!--<div class="col-sm-6">-->
		<!--<div class="row">-->
		<!--<div class="col-sm-1">-->
		<!--{{$index + 1}}-->
		<!--</div>-->
		<!--<div class="col-sm-4">-->
		<!--<div class="form-group">-->
		<!--<sait-number-picker value="measure.value" isInteger="false"></sait-number-picker>-->
		<!--</div>-->
		<!--</div>-->
		<!--<div class="col-sm-3">-->
		<!--<div class="form-group">-->
		<!--<sait-single-select options="{{unitOptions}}" value="measure.unit"></sait-single-select>-->
		<!--</div>-->
		<!--</div>-->
		<!--<div class="col-sm-4">-->
		<!--<div class="form-group">-->
		<!--<sait-number-picker value="measure.temperature" isInteger="false"></sait-number-picker>-->
		<!--</div>-->
		<!--</div>-->
		<!--</div>-->
		<!--</div>-->
		<!--<div class="col-sm-6">-->
		<!--<div class="row">-->
		<!--<div class="col-sm-6">-->
		<!--<div class="form-group">-->
		<!--<sait-single-select value="measure.testMethod" options="{{testMethodOptions}}"></sait-single-select>-->
		<!--</div>-->
		<!--</div>-->
		<!--<div class="col-sm-4">-->
		<!--<div class="form-group">-->
		<!--<sait-toggle true="Active" false="Inactive" value="measure.isActive"></sait-toggle>-->
		<!--</div>-->
		<!--</div>-->
		<!--<div class="col-sm-2">-->
		<!--<button class="btn btn-info" ng-click="removeMeasurement($index)">Delete</button>-->
		<!--</div>-->
		<!--</div>-->
		<!--</div>-->
		<!--</div>-->
		<!--</div>-->
		<!--</div>-->
		<!--</div>-->
		<!--</div>-->
		<!--<div class="panel-footer" ng-show="activeTab === tabs[1]">-->
		<!--<sait-button ng-click="addMeasurement()" title="Add Measurement"></sait-button>-->
		<!--</div>-->
		<!--</div>-->
		<!--</div>-->
		<!--<div class="col-md-1 col-sm-2" id="sidebar">-->

		<!--</div>-->
		<!--</div>-->
	</div>
</div>